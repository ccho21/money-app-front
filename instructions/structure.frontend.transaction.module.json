{
  "module": "transaction",
  "entryPoints": [
    "app/transaction/page.tsx",
    "app/transaction/new/page.tsx",
    "app/transaction/[id]/edit/page.tsx"
  ],
  "routes": ["/transaction", "/transaction/new", "/transaction/[id]/edit"],
  "stores": [
    "modules/transaction/store.ts",
    "modules/transaction/formStore.ts"
  ],
  "features": [
    "modules/transaction/api.ts",
    "modules/transaction/hooks.ts",
    "modules/transaction/types.ts"
  ],
  "api": {
    "createTransactionAPI": {
      "function": "createTransactionAPI",
      "method": "POST",
      "url": "/transactions",
      "requestDTO": "TransactionCreateRequestDTO",
      "responseDTO": "TransactionDetailDTO",
      "description": "수입 또는 지출 트랜잭션을 생성한다.",
      "usedBy": ["hooks.ts → createTransaction"],
      "validation": {
        "frontend": ["type, amount, date, accountId 필수"],
        "backend": [
          "@IsEnum type",
          "@IsInt amount",
          "@IsUUID accountId",
          "@IsDateString date"
        ]
      },
      "storeStrategy": {
        "store": "useTransactionStore.ts",
        "afterSuccess": "transactions refetch"
      }
    },
    "updateTransactionAPI": {
      "function": "updateTransactionAPI",
      "method": "PUT",
      "url": "/transactions/:id",
      "requestDTO": "TransactionUpdateRequestDTO",
      "responseDTO": "TransactionDetailDTO",
      "description": "수입/지출 트랜잭션을 수정한다.",
      "usedBy": ["hooks.ts → updateTransaction"],
      "validation": {
        "frontend": ["필드 일부만 수정 가능"],
        "backend": ["PartialType 기반 모든 필드 optional"]
      },
      "storeStrategy": {
        "store": "useTransactionStore.ts",
        "afterSuccess": "refetch 또는 selectedTransaction 갱신"
      }
    },
    "createTransferTransactionAPI": {
      "function": "createTransferTransactionAPI",
      "method": "POST",
      "url": "/transactions/transfer",
      "requestDTO": "TransactionTransferRequestDTO",
      "responseDTO": "TransactionDetailDTO",
      "description": "이체 트랜잭션을 생성한다.",
      "usedBy": ["hooks.ts → createTransferTransaction"],
      "storeStrategy": {
        "store": "useTransactionStore.ts",
        "afterSuccess": "transactions refetch"
      }
    },
    "updateTransferTransactionAPI": {
      "function": "updateTransferTransactionAPI",
      "method": "PUT",
      "url": "/transactions/transfer/:id",
      "requestDTO": "TransactionTransferRequestDTO",
      "responseDTO": "TransactionDetailDTO",
      "description": "이체 트랜잭션을 수정한다.",
      "usedBy": ["hooks.ts → updateTransferTransaction"]
    }
  },
  "mainDTOs": [
    {
      "name": "TransactionGroupItemDTO",
      "file": "types.ts",
      "extends": "BaseGroupItemDTO",
      "fromModule": "common",
      "fields": [
        {
          "name": "groupIncome",
          "type": "number",
          "optional": false
        },
        {
          "name": "groupExpense",
          "type": "number",
          "optional": false
        },
        {
          "name": "isCurrent",
          "type": "boolean",
          "optional": true
        },
        {
          "name": "transactions",
          "type": "TransactionDetailDTO[]",
          "optional": false
        }
      ]
    },
    {
      "name": "TransactionCalendarDTO",
      "file": "types.ts",
      "extends": null,
      "fields": [
        {
          "name": "date",
          "type": "string",
          "optional": false
        },
        {
          "name": "income",
          "type": "number",
          "optional": false
        },
        {
          "name": "expense",
          "type": "number",
          "optional": false
        }
      ]
    },
    {
      "name": "TransactionDetailDTO",
      "file": "types.ts",
      "extends": null,
      "fields": [
        {
          "name": "id",
          "type": "string",
          "optional": false
        },
        {
          "name": "type",
          "type": "string",
          "optional": false
        },
        {
          "name": "amount",
          "type": "number",
          "optional": false
        },
        {
          "name": "accountId",
          "type": "string",
          "optional": false
        },
        {
          "name": "toAccountId",
          "type": "string",
          "optional": true
        },
        {
          "name": "linkedTransferId",
          "type": "string",
          "optional": true
        },
        {
          "name": "date",
          "type": "string",
          "optional": false
        },
        {
          "name": "createdAt",
          "type": "string",
          "optional": false
        },
        {
          "name": "note",
          "type": "string",
          "optional": true
        },
        {
          "name": "description",
          "type": "string",
          "optional": true
        },
        {
          "name": "category",
          "type": "CategoryDTO | null",
          "optional": true
        },
        {
          "name": "account",
          "type": "{\n    id: string",
          "optional": false
        },
        {
          "name": "name",
          "type": "string",
          "optional": false
        },
        {
          "name": "color",
          "type": "string | null",
          "optional": true
        },
        {
          "name": "toAccount",
          "type": "{\n    id: string",
          "optional": true
        },
        {
          "name": "dueDate",
          "type": "string | null",
          "optional": true
        },
        {
          "name": "paidAt",
          "type": "string | null",
          "optional": true
        }
      ]
    },
    {
      "name": "BaseTransactionRequestDTO",
      "file": "types.ts",
      "extends": "BaseTransactionRequestDTO",
      "fromModule": "transactions",
      "fields": [
        {
          "name": "type",
          "type": "TransactionType",
          "optional": false
        },
        {
          "name": "amount",
          "type": "number",
          "optional": false
        },
        {
          "name": "accountId",
          "type": "string",
          "optional": false
        },
        {
          "name": "categoryId",
          "type": "string",
          "optional": true
        },
        {
          "name": "date",
          "type": "string",
          "optional": false
        },
        {
          "name": "description",
          "type": "string",
          "optional": true
        },
        {
          "name": "note",
          "type": "string",
          "optional": true
        }
      ]
    },
    {
      "name": "TransactionGroupSummaryDTO",
      "file": "types.ts",
      "extends": "BaseListSummaryResponseDTO",
      "fromModule": "common",
      "fields": []
    },
    {
      "name": "TransactionCreateRequestDTO",
      "file": "types.ts",
      "extends": "BaseTransactionRequestDTO",
      "fromModule": "transactions",
      "fields": [
        {
          "name": "type",
          "type": "TransactionType",
          "optional": false
        },
        {
          "name": "amount",
          "type": "number",
          "optional": false
        },
        {
          "name": "date",
          "type": "string",
          "optional": false
        },
        {
          "name": "accountId",
          "type": "string",
          "optional": false
        },
        {
          "name": "categoryId",
          "type": "string",
          "optional": true
        },
        {
          "name": "note",
          "type": "string",
          "optional": true
        },
        {
          "name": "description",
          "type": "string",
          "optional": true
        }
      ]
    },
    {
      "name": "TransactionUpdateRequestDTO",
      "file": "types.ts",
      "extends": "PartialType",
      "composedFrom": ["TransactionCreateRequestDTO"],
      "fields": [
        {
          "name": "type",
          "type": "TransactionType",
          "optional": true
        },
        {
          "name": "amount",
          "type": "number",
          "optional": true
        },
        {
          "name": "date",
          "type": "string",
          "optional": true
        },
        {
          "name": "accountId",
          "type": "string",
          "optional": true
        },
        {
          "name": "categoryId",
          "type": "string",
          "optional": true
        },
        {
          "name": "note",
          "type": "string",
          "optional": true
        },
        {
          "name": "description",
          "type": "string",
          "optional": true
        }
      ]
    },
    {
      "name": "TransactionTransferRequestDTO",
      "file": "types.ts",
      "extends": "BaseTransactionRequestDTO",
      "fromModule": "transactions",
      "fields": [
        {
          "name": "fromAccountId",
          "type": "string",
          "optional": false
        },
        {
          "name": "toAccountId",
          "type": "string",
          "optional": false
        }
      ]
    }
  ]
}
